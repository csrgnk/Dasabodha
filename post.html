<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Content</title>

<style>
body{
margin:0;
font-family:Arial;
background:#f4f6f9;
}

.container{
padding:30px 15px;
max-width:800px;
margin:auto;
}

.post-box{
background:#FFFDE7; /* Soft Light Yellow */
padding:25px;
border-radius:12px;
box-shadow:0 4px 12px rgba(0,0,0,0.1);
}

.post-title{
color:#002366;
margin-top:0;
text-align:center;
}

.share-section{
margin-top:30px;
text-align:center;
}

.share-title{
font-weight:bold;
margin-bottom:12px;
color:#002366;
}

.share-buttons{
display:flex;
justify-content:center;
flex-wrap:wrap;
gap:10px;
}

.share-buttons button{
padding:8px 16px;
border:none;
border-radius:25px;
cursor:pointer;
font-size:14px;
font-weight:bold;
color:#fff;
}

.whatsapp{background:#25D366;}
.facebook{background:#1877F2;}
.twitter{background:#000;}
.copy{background:#FF9800;}

.share-buttons button:hover{
opacity:0.85;
}
</style>
</head>
<body>

<div id="header"></div>

<div class="container">

<div class="post-box">

<h1 class="post-title" id="content-title"></h1>

<div id="content-body"></div>

<div class="share-section">
<div class="share-title">Share This Post</div>

<div class="share-buttons">
<button class="whatsapp" onclick="shareWhatsApp()">WhatsApp</button>
<button class="facebook" onclick="shareFacebook()">Facebook</button>
<button class="twitter" onclick="shareTwitter()">Twitter</button>
<button class="copy" onclick="copyURL()">Copy Link</button>
</div>
</div>

</div>
</div>

<div id="footer"></div>

<script>
// Load header & footer
fetch('header.html').then(r=>r.text()).then(d=>document.getElementById('header').innerHTML=d);
fetch('footer.html').then(r=>r.text()).then(d=>document.getElementById('footer').innerHTML=d);

// Get slug
const params=new URLSearchParams(window.location.search);
const slug=params.get("slug");

function loadJSON(path){
return fetch(path)
.then(res=>res.ok?res.json():[])
.catch(()=>[]);
}

Promise.all([
loadJSON('data/posts.json'),
loadJSON('data/pages.json')
])
.then(([posts,pages])=>{

if(!Array.isArray(posts)) posts=[posts];
if(!Array.isArray(pages)) pages=[pages];

let item=posts.find(p=>p.slug===slug);
if(!item){
item=pages.find(p=>p.slug===slug);
}

if(!item){
document.getElementById("content-title").innerText="Content Not Found";
return;
}

document.title=item.title;
document.getElementById("content-title").innerText=item.title;
document.getElementById("content-body").innerHTML=item.content;

});

// Share Functions
function shareWhatsApp(){
const url=window.location.href;
window.open(`https://wa.me/?text=${encodeURIComponent(url)}`,'_blank');
}

function shareFacebook(){
const url=window.location.href;
window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`,'_blank');
}

function shareTwitter(){
const url=window.location.href;
window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}`,'_blank');
}

function copyURL(){
navigator.clipboard.writeText(window.location.href);
alert("Link copied successfully!");
}
</script>

</body>
</html>
